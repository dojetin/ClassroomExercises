package PRACTICA1;

import java.io.File;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.util.Scanner;

public class Pracej5 {

	public static void main(String[] args) throws IOException {
		Scanner sc = new Scanner (System.in);

		/*
		  5) Consulta: Crea un método Java que consulte los datos de un tipo de chuchería
			del fichero “quiosco.dat”. El programa solicitará un identificador desde línea de
			comandos. Si la chuchería existe, se visualizarán sus datos, si no existe, se
			visualizará un mensaje indicándolo.
		*/
		File fichero = new File("C:\\Users\\Usuario\\OneDrive\\Documents\\Programación\\acceso\\src\\PRACTICA1\\quiosco.dat");
		RandomAccessFile raf=new RandomAccessFile(fichero,"rw");
		System.out.println("Dime el identificador de la chucheria");
		int ide=sc.nextInt();
		int posSeek=-56;
		try {
			while (true) {
				posSeek+=56;
				raf.seek(posSeek);
				int idArchivo=raf.readInt();

				if (idArchivo==ide) {
					System.out.println("ID: "+idArchivo);
					System.out.println("Estanteria: "+raf.readInt());
					System.out.print("TipoChuche: ");
					for (int i = 0; i < 20; i++) {
						System.out.print(raf.readChar());
					}
					System.out.println();
					System.out.println("PrecioSinIva: "+raf.readDouble());
				}
				
			}
		} catch (Exception e) {
			// TODO: handle exception
			System.out.println("Bro, ese no existe, no trolees");
		}
			raf.close();
	}

}
